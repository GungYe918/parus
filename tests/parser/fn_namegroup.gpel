// --- named-group call parsing test (6.1.2 ~ 6.1.6)
// 목표: 함수 선언 4개 + 호출 4개, 전부 파싱 통과
// 제약: 타입은 i32만, 제네릭/커스텀 타입/enum 등 사용 금지

fn add(a: i32, b: i32) -> i32 {
    return a + b;
}

// positional + named-group
fn sub(a: i32, b: i32, { clamp: i32 = 0 }) -> i32 {
    // clamp는 파서 테스트용(기본값/그룹 문법 확인)
    return a - b + clamp;
}

// named-group only
fn mul({ a: i32, b: i32 }) -> i32 {
    return a * b;
}

// mixed but useful: positional + named-group(필수+선택 섞기)
fn div(a: i32, b: i32, { rounding: i32 = 0, bias: i32 }) -> i32 {
    // bias는 필수(named group, default 없음) → 호출에서 반드시 제공
    return a / b + rounding + bias;
}


fn main() -> i32 {
    // --- calls (4)
    // (1) positional call
    set r1 = add(10, 20);

    // (2) labeled call (기존 규칙: 전부 라벨)
    set r2 = add(a: 7, b: 5);

    // (3) positional + named-group call (Dart 스타일)
    set r3 = sub(30, 12, { clamp: 1 });

    // (4) positional + named-group call (named group 내부 순서 무관, 필수 bias 제공)
    set r4 = div(100, 5, { bias: 2, rounding: 1 });
        
    
    return 42;
}