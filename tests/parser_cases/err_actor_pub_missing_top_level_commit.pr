actor Counter {
  draft {
    value: i32;
  }

  init() = default;

  def pub add(delta: i32) -> i32 {
    if (delta > 0i32) {
      commit;
    }
    return draft.value;
  }
}

def main() -> i32 {
  set c = spawn Counter();
  return c.add(delta: 1i32);
}
