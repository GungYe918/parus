# Parus 코드 규약

## 1) struct / class 사용 기준

- `struct`는 **POD 성격의 데이터 묶음**에만 사용한다.
- 상태 불변식(invariant), 캡슐화, 동작(메서드)과 결합되는 타입은 `class`를 사용한다.
- "데이터 + 동작"이 함께 필요한 도메인 모델은 `class`로 설계한다.

## 2) 언어 레벨 모델링 기준(v0)

- `struct`는 C-호환 레이아웃을 지향하는 값 묶음이며, 현재 구현에서 **POD builtin 값 타입만 허용**한다.
- 동작 집합은 `acts`로 분리한다.
- 값과 동작을 한 타입 경계로 결합해야 하는 경우는 향후 `class` 구현 경로를 사용한다.

## 3) 구현 원칙

- Parser/TypeCheck/SIR는 단계별 파일 분할을 유지한다.
- 단일 파일이 1000줄 이상으로 커지면 기능 축(`expr/stmt/decl`) 또는 책임 축(`entry/core/lowering`)으로 분해한다.
- 리팩터링 시 공개 인터페이스(헤더)는 최대한 안정적으로 유지하고, 내부 구현 파일만 분해한다.
