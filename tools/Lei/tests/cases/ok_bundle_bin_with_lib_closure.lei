plan util_bundle = bundle & {
  name = "util";
  kind = "lib";
  modules = [
    module & {
      head = "util";
      sources = ["src/util.pr"];
      imports = [];
    },
  ];
  deps = [];
};

plan core_bundle = bundle & {
  name = "core";
  kind = "lib";
  modules = [
    module & {
      head = "core";
      sources = ["src/core.pr"];
      imports = ["util"];
    },
  ];
  deps = ["util"];
};

plan app_bundle = bundle & {
  name = "app";
  kind = "bin";
  modules = [
    module & {
      head = "app";
      sources = ["src/main.pr"];
      imports = ["core"];
    },
  ];
  deps = ["core"];
};

plan master = master & {
  project = {
    name: "closure-demo",
    version: "0.1.0",
  };
  bundles = [util_bundle, core_bundle, app_bundle];
  tasks = [];
  codegens = [];
};
